#!/usr/bin/bash

if command -v dnf >/dev/null; then
    # support dnf5 on Fedora Rawhide
    if file /usr/bin/dnf | grep 'dnf5$'; then
        sudo dnf makecache
        sudo dnf upgrade
    else
        sudo dnf upgrade --refresh
    fi
fi

if command -v yay >/dev/null; then
    yay -Syu
elif command -v pacman >/dev/null; then
    sudo pacman -Syu
fi

if command -v apt >/dev/null; then
    sudo apt update
    sudo apt upgrade
fi

if ping -c 1 'www.github.com' >/dev/null && [ -d "$HOME/.local/opt/vscodium" ] && command -v codium-install.sh >/dev/null; then
    codium-install.sh
fi

command -v flatpak >/dev/null && flatpak update -y

command -v cargo-install-update >/dev/null && cargo install-update -a -g
